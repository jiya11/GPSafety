# GPSafety
GPSafety is a Geographic Information System (GIS) project developed in C++ that also highlights crime hotspots across Toronto. It is built off the OpenStreetMap Database via their OSMDatabaseAPI.h and StreetsDatabaseAPI.h APIs. To enhance its functionality with real-time data, GPSafety also integrates information from the Toronto Police Service, made accessible via the tpscalls.live API developed by R. Durant [(R. Durant, “Tpscalls.live,” https://www.tpscalls.live/, accessed Mar. 10, 2025)]. Unlike conventional navigation tools that focus on the fastest routes, GPSafety prioritizes user safety.

![GPSafety](https://github.com/user-attachments/assets/c467b640-9c80-4920-adc8-99503e42121e)

## Features
The project was developed in four milestone phases, each building on the previous:
- **Milestone 1: Data Structures**
  - Built efficient map-loading functions from OpenStreetMap data.
- **Milestone 2: Graphics**
  - Designed an interactive user interface using GTK and UofT's EZGL renderer, with a focus on simplicity, clarity and quick access to safety features.
    - Colour-coded elements and dark mode support for improved visibility
    <img src="https://github.com/user-attachments/assets/543b183b-15d0-42e9-bf01-913d6232987e" width="400"/>

    - Customized icons to enhance visual clarity and user recognition
    <img src="https://github.com/user-attachments/assets/fb3952c7-b0ac-43f4-98ef-83ccefa0a88a" width="200"/>

    - Point of interest (POI) buttons for quick access to notable locations
    <img src="https://github.com/user-attachments/assets/d2e06894-c03e-46e5-a5c5-010a70a15e8e" width="400"/>

    - Hamburger menu for zooming, switching cities, and accessing the help menu
    <img src="https://github.com/user-attachments/assets/f35633eb-20a6-4447-932e-63b7398c0327" width="400"/>

    - Ability to switch between different cities
    <img src="https://github.com/user-attachments/assets/8efbddb6-60ee-4e0d-b2f1-e7d7ed94c065" width="400"/>

    - Search bar with autocomplete for streets, intersections, and routes

      <img src="https://github.com/user-attachments/assets/3ca572ed-b47d-4bdb-927c-a1405137afa9" width="350" style="display:inline-block; margin-right:5px;" />  <img src="https://github.com/user-attachments/assets/66d43dfe-46dc-4dda-b564-a84968a5c139" width="350" style="display:inline-block; margin-right: 5px;" />  <img src="https://github.com/user-attachments/assets/f72b6f73-d0c9-48ac-92be-fa8b96fcc5cd" width="350" style="display:inline-block; margin-left:5px;" />
      
    - Displays easy-to-follow driving directions from one point to another
    <img src="https://github.com/user-attachments/assets/d6fd492b-8fd6-4259-b9c9-7a966821fef4" width="400"/>
    - Map scale included for spatial reference
- **Milestone 3 & 4: Path Finding and Courier Optimization**
  - Implemented efficient routing features in GPSafety, allowing users to plan routes in two intuitive ways: either by using the search bars or by clicking directly on two intersections on the map.
  - A multi-destination Dijkstra’s algorithm is used to calculate the shortest paths and travel times from a single source to multiple destinations. This algorithm leverages a priority queue and includes turn penalties for more realistic routing across street segments.
  - The project also solves a complex variant of the NP-Hard Traveling Salesman Problem (TSP) known as the Traveling Courier Problem, which involves multiple depots, pickups, and drop-offs. To handle this efficiently:
    - Preprocessing is performed to compute travel time and path matrices between all relevant intersections (depots, pickups, and drop-offs) using the multi-destination Dijkstra algorithm.
    - A feasible initial solution is constructed by placing pickups before their associated drop-offs.
    - The route is then optimized using a Simulated Annealing metaheuristic:
      - Neighboring solutions are generated by randomly swapping or reversing segments of the route.
      - A new neighbor is accepted probabilistically based on the cost difference and the current temperature, gradually reducing the chance of accepting worse solutions as the temperature cools.
    - The best route from Simulated Annealing is further improved with a Two-Opt optimization routine, which reduces detours and smooths out inefficient connections.
  - Together, these techniques power a robust and optimized routing system tailored for real-world courier scenarios involving complex constraints and time-sensitive deliveries.
  ![gpsDirection](https://github.com/user-attachments/assets/25104513-9361-4b5b-be48-60790122c789)

## Safety Alerts
![gpsSafe](https://github.com/user-attachments/assets/93e94ebb-c9cf-4ad9-92b5-0e99ce584a68)
Real-time crime alerts pulled hourly from the TPS Calls API are shown directly on the map as hotspot overlays.

## Future Development
- **Live Route Sharing**
  - Allow users to share their active path with friends/family in real-time.
- **Global Crime Integration**
  - Expand safety feature beyond Toronto to other cities.
